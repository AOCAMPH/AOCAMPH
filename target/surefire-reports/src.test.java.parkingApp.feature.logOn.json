[{"line":1,"elements":[{"line":61,"name":"Validar que el usuario que inicia sesion sea el mismo que ingresa al aplicativo","description":"","id":"validar-que-el-usuario-que-inicia-sesion-sea-el-mismo-que-ingresa-al-aplicativo","type":"scenario","keyword":"Scenario","steps":[{"name":"url 'https:\/\/www.googleapis.com\/identitytoolkit\/v3\/relyingparty\/verifyPassword?key=AIzaSyC7xBnSXBOT44sr3mdV4Zu8aN1-TouM9vQ'","result":{"duration":1846800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":62,"doc_string":{"content_type":"","value":"21:32:12.862 karate.env system property was:","line":62}},{"name":"request","result":{"duration":252800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":63,"doc_string":{"content_type":"","value":"{\n  \"email\": \"mperez@mailinator.com\",\n  \"password\": \"12345678\",\n  \"returnSecureToken\": true\n }","line":63}},{"name":"method Post","result":{"duration":1413093800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":71,"doc_string":{"content_type":"","value":"21:32:13.680 request:\n1 > POST https:\/\/www.googleapis.com\/identitytoolkit\/v3\/relyingparty\/verifyPassword?key=AIzaSyC7xBnSXBOT44sr3mdV4Zu8aN1-TouM9vQ\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 80\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: www.googleapis.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_231)\n{\"email\":\"mperez@mailinator.com\",\"password\":\"12345678\",\"returnSecureToken\":true}\n\n21:32:14.352 response time in milliseconds: 667.08\n1 < 200\n1 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Type: application\/json; charset=UTF-8\n1 < Date: Mon, 21 Mar 2022 02:32:14 GMT\n1 < Expires: Mon, 01 Jan 1990 00:00:00 GMT\n1 < Pragma: no-cache\n1 < Server: ESF\n1 < Transfer-Encoding: chunked\n1 < Vary: [Origin, X-Origin, Referer]\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-XSS-Protection: 0\n{\n  \"kind\": \"identitytoolkit#VerifyPasswordResponse\",\n  \"localId\": \"Cd4zI6qUAedDweNAtStmswiQhZd2\",\n  \"email\": \"mperez@mailinator.com\",\n  \"displayName\": \"\",\n  \"idToken\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6ImIwNmExMTkxNThlOGIyODIxNzE0MThhNjdkZWE4Mzc0MGI1ZWU3N2UiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vcGFya2luZ2FwcC0yMzAzMDIiLCJhdWQiOiJwYXJraW5nYXBwLTIzMDMwMiIsImF1dGhfdGltZSI6MTY0NzgyOTkzNCwidXNlcl9pZCI6IkNkNHpJNnFVQWVkRHdlTkF0U3Rtc3dpUWhaZDIiLCJzdWIiOiJDZDR6STZxVUFlZER3ZU5BdFN0bXN3aVFoWmQyIiwiaWF0IjoxNjQ3ODI5OTM0LCJleHAiOjE2NDc4MzM1MzQsImVtYWlsIjoibXBlcmV6QG1haWxpbmF0b3IuY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbIm1wZXJlekBtYWlsaW5hdG9yLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.iO-F6nd_Xx4GuiwCPVhLE4luMO4JtOCMuQe4r1Xfy5zH-NYNVG_yrOys5WmKk47rVzHQbk79j5qcfn97euy0wTuLC8H5wCmOpjEgH1ID1fgGtVpY7LWFjoxmlkDDffaMQJUsrTmyVSpsHs-IrAP_e8miGmHR0bnJfPmqvn3tTNFXd6ionCbx3h0VdbJxQs6yLlXlZZR4VEpfEVvnNG0CKeip4NXW7A3DWohunO9rqgTIO3J5wpEgrvhV3EugzUL0n0WMrliEhHj6ZLqiwFU7fPprqbeIDT7-3UwQTM9y2u6cb0mJcVZTUXBycdFaEDkySasM8-kZyEw2vQqbu7jqCg\",\n  \"registered\": true,\n  \"refreshToken\": \"AIwUaOnVFWPK0d3tMk_1bIuIC2ZAGsWQAQ2NGoA4ZMpggdAkPakVuL5hQjDMy4Kyo1YsmgTInE74LxiEd4IVjqbXgH_mxCKlx0F90mMGRnBY_1iF0aRFrC-Hw0I9Vmzpe8hCvXxuGgTHglQ_FNsScsz-w6RChgvu8ysLPkYPv6PA34qT0inEfrIr0LzbRB3VBJn-lUOroL8Ru-BIfLn6ypJahb9L0mmV7w\",\n  \"expiresIn\": \"3600\"\n}","line":71}},{"name":"status 200","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":72},{"name":"def email_password_info = response.email","result":{"duration":9766800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":73},{"name":"def idToken = response.idToken","result":{"duration":6553900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":74},{"name":"url 'https:\/\/www.googleapis.com\/identitytoolkit\/v3\/relyingparty\/getAccountInfo?key=AIzaSyC7xBnSXBOT44sr3mdV4Zu8aN1-TouM9vQ'","result":{"duration":4478200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":76},{"name":"request {\"idToken\": #(idToken)}","result":{"duration":6708200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":77},{"name":"method Post","result":{"duration":274197500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":78,"doc_string":{"content_type":"","value":"21:32:14.385 request:\n2 > POST https:\/\/www.googleapis.com\/identitytoolkit\/v3\/relyingparty\/getAccountInfo?key=AIzaSyC7xBnSXBOT44sr3mdV4Zu8aN1-TouM9vQ\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Content-Length: 948\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Host: www.googleapis.com\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_231)\n{\"idToken\":\"eyJhbGciOiJSUzI1NiIsImtpZCI6ImIwNmExMTkxNThlOGIyODIxNzE0MThhNjdkZWE4Mzc0MGI1ZWU3N2UiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vcGFya2luZ2FwcC0yMzAzMDIiLCJhdWQiOiJwYXJraW5nYXBwLTIzMDMwMiIsImF1dGhfdGltZSI6MTY0NzgyOTkzNCwidXNlcl9pZCI6IkNkNHpJNnFVQWVkRHdlTkF0U3Rtc3dpUWhaZDIiLCJzdWIiOiJDZDR6STZxVUFlZER3ZU5BdFN0bXN3aVFoWmQyIiwiaWF0IjoxNjQ3ODI5OTM0LCJleHAiOjE2NDc4MzM1MzQsImVtYWlsIjoibXBlcmV6QG1haWxpbmF0b3IuY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbIm1wZXJlekBtYWlsaW5hdG9yLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.iO-F6nd_Xx4GuiwCPVhLE4luMO4JtOCMuQe4r1Xfy5zH-NYNVG_yrOys5WmKk47rVzHQbk79j5qcfn97euy0wTuLC8H5wCmOpjEgH1ID1fgGtVpY7LWFjoxmlkDDffaMQJUsrTmyVSpsHs-IrAP_e8miGmHR0bnJfPmqvn3tTNFXd6ionCbx3h0VdbJxQs6yLlXlZZR4VEpfEVvnNG0CKeip4NXW7A3DWohunO9rqgTIO3J5wpEgrvhV3EugzUL0n0WMrliEhHj6ZLqiwFU7fPprqbeIDT7-3UwQTM9y2u6cb0mJcVZTUXBycdFaEDkySasM8-kZyEw2vQqbu7jqCg\"}\n\n21:32:14.655 response time in milliseconds: 268.96\n2 < 200\n2 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Type: application\/json; charset=UTF-8\n2 < Date: Mon, 21 Mar 2022 02:32:14 GMT\n2 < Expires: Mon, 01 Jan 1990 00:00:00 GMT\n2 < Pragma: no-cache\n2 < Server: ESF\n2 < Transfer-Encoding: chunked\n2 < Vary: [Origin, X-Origin, Referer]\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: SAMEORIGIN\n2 < X-XSS-Protection: 0\n{\n  \"kind\": \"identitytoolkit#GetAccountInfoResponse\",\n  \"users\": [\n    {\n      \"localId\": \"Cd4zI6qUAedDweNAtStmswiQhZd2\",\n      \"email\": \"mperez@mailinator.com\",\n      \"passwordHash\": \"UkVEQUNURUQ=\",\n      \"emailVerified\": false,\n      \"passwordUpdatedAt\": 1647729566469,\n      \"providerUserInfo\": [\n        {\n          \"providerId\": \"password\",\n          \"federatedId\": \"mperez@mailinator.com\",\n          \"email\": \"mperez@mailinator.com\",\n          \"rawId\": \"mperez@mailinator.com\"\n        }\n      ],\n      \"validSince\": \"1647729566\",\n      \"lastLoginAt\": \"1647829904963\",\n      \"createdAt\": \"1647729566469\",\n      \"lastRefreshAt\": \"2022-03-21T02:31:44.963Z\"\n    }\n  ]\n}","line":78}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":79},{"name":"def email_account_info = response.users[0].email","result":{"duration":21379400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":80},{"name":"match email_password_info == email_account_info","result":{"duration":2651000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":81},{"name":"url 'http:\/\/192.168.18.5:8080\/'","result":{"duration":4119400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":83},{"name":"path 'usuario\/save'","result":{"duration":2562900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":84},{"name":"request","result":{"duration":2224400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":85,"doc_string":{"content_type":"","value":"{\n  \"email\":\"#(email_account_info)\",\n  \"nombre\":\"Mario Perez\",\n  \"photoURL\":null,\n  \"uid\":\"Cd4zI6qUAedDweNAtStmswiQhZd2\",\n  \"loginWith\":\"email\"\n }","line":85}},{"name":"method POST","result":{"duration":8857300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":95,"doc_string":{"content_type":"","value":"21:32:14.692 request:\n3 > POST http:\/\/192.168.18.5:8080\/usuario\/save\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Content-Length: 129\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Host: 192.168.18.5:8080\n3 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_231)\n{\"email\":\"mperez@mailinator.com\",\"nombre\":\"Mario Perez\",\"photoURL\":null,\"uid\":\"Cd4zI6qUAedDweNAtStmswiQhZd2\",\"loginWith\":\"email\"}\n\n21:32:14.698 response time in milliseconds: 5.62\n3 < 200\n3 < Content-Type: application\/json;charset=UTF-8\n3 < Date: Mon, 21 Mar 2022 02:32:14 GMT\n3 < Transfer-Encoding: chunked\n{\"id\":85,\"nombre\":\"Mario Perez\",\"email\":\"mperez@mailinator.com\",\"photoUrl\":\"\",\"phone\":\"912812128\",\"uid\":\"Cd4zI6qUAedDweNAtStmswiQhZd2\",\"loginWith\":\"email\",\"tipo\":\"A\",\"vehiculos\":[{\"id\":46,\"placa\":\"AZH-686\",\"idUsuario\":85,\"marca\":null,\"modelo\":null}]}","line":95}},{"name":"status 200","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":96},{"name":"def contadorVehiculos = $.vehiculos.length()","result":{"duration":3601700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":97},{"name":"def usuario = response.id","result":{"duration":4464900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":98}],"tags":[{"name":"@postLogin","line":60}]}],"name":"src\/test\/java\/parkingApp\/feature\/logOn.feature","description":"log on","id":"log-on","keyword":"Feature","uri":"src\/test\/java\/parkingApp\/feature\/logOn.feature"}]